@import "base.less";

@esf-checkbox-radio-label-padding: 1.5em;
@esf-checkbox-radio-box-size: 1em;

.esf-checkbox-style-base {
    position: relative;
    display: inline-block;
    min-width: @esf-checkbox-radio-box-size;
    line-height: @esf-checkbox-radio-box-size;
    height: @esf-checkbox-radio-box-size;
    vertical-align: middle;

    // virtual checkbox
    .@{esf-class-prefix}-checkbox-box,
    label {
        display: block;
        padding-left: @esf-checkbox-radio-label-padding;
        padding-left: 1em\9;

        // checkbox
        &:before {
            position: absolute;
            top: 0;
            left: 0;
            width: @esf-checkbox-radio-box-size;
            height: @esf-checkbox-radio-box-size;
            content: '';
            .box-sizing(border-box);
            .esf-transition(~"background-color 0.3s ease, border-color 0.3s ease");

            .esf-checkbox-virtual-box-theme();
            display: none\9;
        }
        &:after {
            .box-sizing(border-box);
            position: absolute;
            content: '';
            .esf-transition(~"background 0.3s ease 0s, left 0.3s ease 0s");
            display: none\9;
        }
        &:active:before {
            .esf-checkbox-virtual-box-active-theme();
        }
    }
    input {
        position: absolute;
        top: 0;
        left: 0;
        .opacity(0);
        filter: none\9;
        top: 0.1em\9;
        outline: none;
        &:focus {
            & ~ label,
            & ~ .@{esf-class-prefix}-checkbox-box {
                color: @esf-checkbox-label-text-focus-color;
                .esf-checkbox-virtual-box-focus-theme();
            }
        }
        &:checked {
            & ~ label,
            & ~ .@{esf-class-prefix}-checkbox-box {
                .esf-checkbox-virtual-box-checked-theme();
            }
        }
        &:indeterminate {
            & ~ label,
            & ~ .@{esf-class-prefix}-checkbox-box {
                .esf-checkbox-virtual-box-indeterminate-theme();
            }
        }
    }
    input[disabled] {
        & ~ label,
        & ~ .@{esf-class-prefix}-checkbox-box {
            .esf-checkbox-virtual-box-disabled-theme();
            .esf-disabled();
        }
    }

    // ~ label: if we put label after checkbox container
    label,
    ~ label {
        .esf-transition(color 0.2s ease);
        cursor: pointer;
        vertical-align: middle;
        .esf-checkbox-label-theme();
    }
}

.@{esf-class-prefix}-checkbox-custom,
.@{esf-class-prefix}-radio-custom,
.@{esf-class-prefix}-checkbox-switch,
.@{esf-class-prefix}-checkbox-switch-round {
    &:extend(.esf-checkbox-style-base all);
}

.@{esf-class-prefix}-radio-custom {
    .@{esf-class-prefix}-checkbox-box,
    label {
        &:before {
            .esf-circular();
        }
    }
    input:checked {
        & ~ label,
        & ~ .@{esf-class-prefix}-checkbox-box {
            .esf-checkbox-virtual-box-radio-checked-theme();
        }
    }
}

.@{esf-class-prefix}-checkbox-switch,
.@{esf-class-prefix}-checkbox-switch-round {
    input {
        ~ .@{esf-class-prefix}-checkbox-box,
        ~ label {
            padding-left: 4em;
            padding-left: 1em\9;
            .esf-checkbox-virtual-box-switch-theme();
        }
        &:checked {
            ~ .@{esf-class-prefix}-checkbox-box,
            ~ label {
                .esf-checkbox-virtual-box-switch-checked-theme();
            }
        }
    }
}

.@{esf-class-prefix}-checkbox-switch-round {
    input {
        ~ .@{esf-class-prefix}-checkbox-box,
        ~ label {
            .esf-checkbox-virtual-box-switch-round-theme();
        }
        &:checked {
            ~ .@{esf-class-prefix}-checkbox-box,
            ~ label {
                .esf-checkbox-virtual-box-switch-round-checked-theme();
            }
        }
    }
}

.esf-checkbox-label-theme() {}
.esf-checkbox-virtual-box-active-theme() {}
.esf-checkbox-virtual-box-focus-theme() {}
.esf-checkbox-virtual-box-checked-theme() {}
.esf-checkbox-virtual-box-indeterminate-theme() {}
.esf-checkbox-virtual-box-disabled-theme() {}
.esf-checkbox-virtual-box-theme() {}
.esf-checkbox-virtual-box-radio-checked-theme() {}
.esf-checkbox-virtual-box-switch-theme() {}
.esf-checkbox-virtual-box-switch-checked-theme() {}
.esf-checkbox-virtual-box-switch-round-theme() {}
.esf-checkbox-virtual-box-switch-round-checked-theme() {}