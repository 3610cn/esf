@esf-dropdown-margin: 0.2em 0;
@esf-dropdown-padding: 0.2em 0;
@esf-dropdown-radius: @default-border-radius;

@esf-dropdown-border: 1px solid rgba(0, 0, 0, 0.1);
@esf-dropdown-background-color: @primary-bg-color;

@esf-dropdown-item-text-color: #666;
@esf-dropdown-item-text-hover-color: #666;
@esf-dropdown-item-text-size: @esf-small-font-size;
@esf-dropdown-item-hightlight-background-color: lighten(@black-10, 5%);
@esf-dropdown-item-padding: 0.5em 1em;
@esf-dropdown-item-separator-space: 0.35em;
@esf-dropdown-item-separator-color: #d9d9d9;

@esf-dropdown-heading-text-size: @esf-small-font-size;
@esf-dropdown-heading-padding: 0.5em 1em;

.@{esf-class-prefix}-dropdown {
    .esf-list-unstyled;
    .border-radius(@esf-dropdown-radius);
    margin: @esf-dropdown-margin;
    padding: @esf-dropdown-padding;
    position: relative;
    top: auto;
    left: auto;
    z-index: 1000;

    li {
        font-size: @esf-dropdown-item-text-size;
        position: relative;
        > a {
            padding: @esf-dropdown-item-padding;
            display: block;
            float: none;
            text-decoration: none;
            .transition(background-color 0.3s ease);
        }
        &.@{esf-class-prefix}-separator-before {
            padding-top: @esf-dropdown-item-separator-space;
            margin-top: @esf-dropdown-item-separator-space;
        }
        &.@{esf-class-prefix}-separator-after {
            padding-bottom: @esf-dropdown-item-separator-space;
            margin-bottom: @esf-dropdown-item-separator-space;
        }
        &.@{esf-class-prefix}-heading {
            padding: @esf-dropdown-heading-padding;
            font-weight: bold;
            font-size: @esf-dropdown-heading-text-size;
        }
    }
    &.@{esf-class-prefix}-dropdown-flyout {
        position: absolute;
        min-width: 8em;
        top: 0;
        &.@{esf-class-prefix}-dropdown-left {
            right: 100%;
        }
        &.@{esf-class-prefix}-dropdown-right {
            left: 100%;
        }
    } 
}

.@{esf-class-prefix}-dropdown-light {
    .esf-dropdown-variant(
        @esf-dropdown-background-color,
        @esf-dropdown-border,
        @esf-dropdown-item-text-color,
        @esf-dropdown-item-text-hover-color,
        @esf-dropdown-item-hightlight-background-color
    );
}

// mixins
.esf-dropdown-variant(
    @background-color,
    @border-color, 
    @text-color,
    @text-hover-color,
    @hightlight-color
) {
    background: @background-color;
    border: @border-color;
    li {
        > a {
            color: @text-color;
            &:hover {
                color: @text-hover-color;
                background: @hightlight-color;
            }
        }
        &.@{esf-class-prefix}-dropdown-separator-before {
            border-top: 1px solid @esf-dropdown-item-separator-color;
        }
        &.@{esf-class-prefix}-dropdown-separator-after {
            border-bottom: 1px solid @esf-dropdown-item-separator-color;
        }
    }
}

// a size mixin to override sizes.
.esf-dropdown-size(
    @dropdown-margin,
    @dropdown-padding,
    @dropdown-item-padding,
    @dropdown-separator-space,
    @dropdown-heading-padding
) {
    margin: @dropdown-margin;
    padding: @dropdown-padding;
    li {
        > a {
            padding: @dropdown-item-padding;
        }
        &.@{esf-class-prefix}-separator-before {
            padding-top: @dropdown-separator-space;
            margin-top: @dropdown-separator-space;
        }
        &.@{esf-class-prefix}-separator-after {
            padding-bottom: @dropdown-separator-space;
            margin-bottom: @dropdown-separator-space;
        }
        &.@{esf-class-prefix}-heading {
            padding: @dropdown-heading-padding;
        }
    }
}
